import{r as l,j as s,e as Se}from"./react-vendor-TINvYWmN.js";import{Q as K,u as Ee,a as V}from"./tanstack-zCaWL8Gc.js";import{Q as ke,R as Ie,T as A,X as Oe,U as Re,V as Fe,W as $e,Y as Ae,Z as Le,_ as De,$ as g,a0 as y,a1 as Pe,a2 as Me,a3 as ze,a4 as B,a5 as G,a6 as He,a7 as P,a8 as _e,a9 as Ue}from"./vendor-B-ja6pMj.js";import{P as Ke,R as q,T as W,D as Q,C as X,V as Y,A as J,a as Z,S as ee,b as te,c as Ve,d as Be,e as se,f as Ge,g as qe,h as We,i as Qe,j as re}from"./radix-ui-CRSAjSie.js";import{m as f,A as Xe}from"./animations-BzSli2zK.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(n){if(n.ep)return;n.ep=!0;const c=r(n);fetch(n.href,c)}})();const Ye=1,Je=1e6;let k=0;function Ze(){return k=(k+1)%Number.MAX_SAFE_INTEGER,k.toString()}const I=new Map,M=t=>{if(I.has(t))return;const e=setTimeout(()=>{I.delete(t),v({type:"REMOVE_TOAST",toastId:t})},Je);I.set(t,e)},et=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Ye)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?M(r):t.toasts.forEach(o=>{M(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},j=[];let N={toasts:[]};function v(t){N=et(N,t),j.forEach(e=>{e(N)})}function tt({...t}){const e=Ze(),r=n=>v({type:"UPDATE_TOAST",toast:{...n,id:e}}),o=()=>v({type:"DISMISS_TOAST",toastId:e});return v({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:n=>{n||o()}}}),{id:e,dismiss:o,update:r}}function oe(){const[t,e]=l.useState(N);return l.useEffect(()=>(j.push(e),()=>{const r=j.indexOf(e);r>-1&&j.splice(r,1)}),[t]),{...t,toast:tt,dismiss:r=>v({type:"DISMISS_TOAST",toastId:r})}}function u(...t){return ke(Ie(t))}const st=Ke,ae=l.forwardRef(({className:t,...e},r)=>s.jsx(Y,{ref:r,className:u("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ae.displayName=Y.displayName;const rt=A("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ne=l.forwardRef(({className:t,variant:e,...r},o)=>s.jsx(q,{ref:o,className:u(rt({variant:e}),t),...r}));ne.displayName=q.displayName;const ot=l.forwardRef(({className:t,...e},r)=>s.jsx(J,{ref:r,className:u("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));ot.displayName=J.displayName;const ie=l.forwardRef(({className:t,...e},r)=>s.jsx(X,{ref:r,className:u("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(Oe,{className:"h-4 w-4"})}));ie.displayName=X.displayName;const le=l.forwardRef(({className:t,...e},r)=>s.jsx(W,{ref:r,className:u("text-sm font-semibold",t),...e}));le.displayName=W.displayName;const ce=l.forwardRef(({className:t,...e},r)=>s.jsx(Q,{ref:r,className:u("text-sm opacity-90",t),...e}));ce.displayName=Q.displayName;function at(){const{toasts:t}=oe();return s.jsxs(st,{children:[t.map(function({id:e,title:r,description:o,action:n,...c}){return s.jsxs(ne,{...c,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(le,{children:r}),o&&s.jsx(ce,{children:o})]}),n,s.jsx(ie,{})]},e)}),s.jsx(ae,{})]})}const nt=new K({defaultOptions:{queries:{queryFn:async({queryKey:t})=>{const e=await fetch(t[0],{credentials:"include"});if(!e.ok)throw e.status>=500?new Error(`${e.status}: ${e.statusText}`):new Error(`${e.status}: ${await e.text()}`);return e.json()},refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),O=l.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:u("rounded-lg border bg-background2 text-card-foreground shadow-sm",t),...e}));O.displayName="Card";const R=l.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:u("flex flex-col space-y-1.5 p-6",t),...e}));R.displayName="CardHeader";const T=l.forwardRef(({className:t,...e},r)=>s.jsx("h3",{ref:r,className:u("text-2xl font-semibold leading-none tracking-tight",t),...e}));T.displayName="CardTitle";const it=l.forwardRef(({className:t,...e},r)=>s.jsx("p",{ref:r,className:u("text-sm text-muted-foreground",t),...e}));it.displayName="CardDescription";const F=l.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:u("p-6 pt-0",t),...e}));F.displayName="CardContent";const lt=l.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:u("flex items-center p-6 pt-0",t),...e}));lt.displayName="CardFooter";const ct=A("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),de=l.forwardRef(({className:t,...e},r)=>s.jsx(Z,{ref:r,className:u(ct(),t),...e}));de.displayName=Z.displayName;const dt=Re,me=l.createContext({}),mt=({...t})=>s.jsx(me.Provider,{value:{name:t.name},children:s.jsx(Fe,{...t})}),S=()=>{const t=l.useContext(me),e=l.useContext(ue),{getFieldState:r,formState:o}=$e(),n=r(t.name,o);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:c}=e;return{id:c,name:t.name,formItemId:`${c}-form-item`,formDescriptionId:`${c}-form-item-description`,formMessageId:`${c}-form-item-message`,...n}},ue=l.createContext({}),fe=l.forwardRef(({className:t,...e},r)=>{const o=l.useId();return s.jsx(ue.Provider,{value:{id:o},children:s.jsx("div",{ref:r,className:u("space-y-2",t),...e})})});fe.displayName="FormItem";const pe=l.forwardRef(({className:t,...e},r)=>{const{error:o,formItemId:n}=S();return s.jsx(de,{ref:r,className:u(o&&"text-destructive","mb-0",t),htmlFor:n,...e})});pe.displayName="FormLabel";const xe=l.forwardRef(({...t},e)=>{const{error:r,formItemId:o,formDescriptionId:n,formMessageId:c}=S();return s.jsx(ee,{ref:e,id:o,"aria-describedby":r?`${n} ${c}`:`${n}`,"aria-invalid":!!r,className:"mt-2",...t})});xe.displayName="FormControl";const ut=l.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:o}=S();return s.jsx("p",{ref:r,id:o,className:u("text-sm text-muted-foreground",t),...e})});ut.displayName="FormDescription";const ft=l.forwardRef(({className:t,children:e,...r},o)=>{const{error:n,formMessageId:c}=S(),p=n?String(n==null?void 0:n.message):e;return p?s.jsx("p",{ref:o,id:c,className:u("text-sm font-medium text-destructive",t),...r,children:p}):null});ft.displayName="FormMessage";const he=l.forwardRef(({className:t,type:e,...r},o)=>s.jsx("input",{type:e,className:u("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:o,...r}));he.displayName="Input";const pt=A("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 [&_svg]:text-current",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),C=l.forwardRef(({className:t,variant:e,size:r,asChild:o=!1,...n},c)=>{const p=o?ee:"button";return s.jsx(p,{className:u(pt({variant:e,size:r,className:t})),ref:c,...n})});C.displayName="Button";const ge=l.forwardRef(({className:t,children:e,...r},o)=>s.jsxs(te,{ref:o,className:u("relative overflow-hidden",t),...r,children:[s.jsx(Ve,{className:"h-full w-full rounded-[inherit]",children:e}),s.jsx(ye,{}),s.jsx(Be,{})]}));ge.displayName=te.displayName;const ye=l.forwardRef(({className:t,orientation:e="vertical",...r},o)=>s.jsx(se,{ref:o,orientation:e,className:u("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:s.jsx(Ge,{className:"relative flex-1 rounded-full bg-border"})}));ye.displayName=se.displayName;const z=qe,H=We,_=Qe,$=l.forwardRef(({className:t,sideOffset:e=4,...r},o)=>s.jsx(re,{ref:o,sideOffset:e,className:u("z-999999 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));$.displayName=re.displayName;async function xt({keyphrase:t,url:e}){console.log("Sending request to /api/analyze with data:",{keyphrase:t,url:e});const r=await fetch("http://localhost:5000/api/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keyphrase:t,url:e})});if(!r.ok){const n=await r.json();throw console.error("Error response from /api/analyze:",n),new Error(n.message||"Failed to analyze SEO")}const o=await r.json();return console.log("Received response from /api/analyze:",o),o}async function ht(t){try{console.log("Registering domains:",t);const e=await fetch("http://localhost:5000/api/register-domains",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({domains:t})}),r=await e.json();return e.ok?(console.log("Domains registered successfully:",r),{success:!0,message:r.message||"Domains registered successfully"}):(console.error("Failed to register domains:",r),{success:!1,message:r.message||"Failed to register domains"})}catch(e){return console.error("Error registering domains:",e),{success:!1,message:`Error registering domains: ${e instanceof Error?e.message:String(e)}`}}}function gt({value:t,size:e=120,strokeWidth:r=10,scoreText:o="Score"}){const n=(e-r)/2,c=n*2*Math.PI,p=c-t/100*c,w=(x=>x>=90?"var(--greenText)":x>=70?"var(--blueText)":x>=50?"var(--yellowText)":"var(--redText)")(t);return s.jsx("div",{className:"inline-flex flex-col items-center justify-center",children:s.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[s.jsxs("svg",{width:e,height:e,viewBox:`0 0 ${e} ${e}`,style:{transform:"rotate(-90deg)"},children:[s.jsx("circle",{cx:e/2,cy:e/2,r:n,fill:"transparent",stroke:"currentColor",strokeWidth:r,strokeOpacity:.1}),s.jsx("circle",{cx:e/2,cy:e/2,r:n,fill:"transparent",stroke:w,strokeWidth:r,strokeDasharray:c,strokeDashoffset:p,strokeLinecap:"round",style:{transition:"stroke-dashoffset 1s ease-in-out"}})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center",children:[s.jsx("span",{className:"text-3xl font-bold",style:{color:w},children:t}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:o})]})]})})}const yt=t=>{const e="https://ai-seo-copilot.gitbook.io/ai-seo-copilot/documentation";return{"Keyphrase in Title":`${e}/meta-seo/keyphrase-in-title`,"Keyphrase in Meta Description":`${e}/meta-seo/keyphrase-in-meta-description`,"Keyphrase in URL":`${e}/meta-seo/keyphrase-in-url`,"Content Length on page":`${e}/content-optimization/content-length-on-page`,"Keyphrase Density":`${e}/content-optimization/keyphrase-density`,"Keyphrase in Introduction":`${e}/content-optimization/keyphrase-in-introduction`,"Image Alt Attributes":`${e}/images/image-alt-attributes`,"Internal Links":`${e}/links/internal-links`,"Outbound Links":`${e}/links/outbound-links`,"Next-Gen Image Formats":`${e}/images/next-gen-image-formats`,"OpenGraph Image":`${e}/images/opengraph-image`,"Open Graph Title and Description":`${e}/meta-seo/open-graph-title-and-description`,"Keyphrase in H1 Heading":`${e}/content-optimization/keyphrase-in-h1-heading`,"Keyphrase in H2 Headings":`${e}/content-optimization/keyphrase-in-h2-headings`,"Heading Hierarchy":`${e}/content-optimization/heading-hierarchy`,"Code Minification":`${e}/tech-seo/code-minification`,"Schema Markup":`${e}/tech-seo/schema-markup`,"Image File Size":`${e}/images/image-file-size`}[t]||`${e}/seo-optimization-guide`},vt=P.object({keyphrase:P.string().min(2,"Keyphrase must be at least 2 characters")}),wt={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},bt={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},U={initial:{scale:0},animate:{scale:1,transition:{type:"spring",stiffness:260,damping:20}}},jt=t=>!t.toLowerCase().includes("density")&&!t.toLowerCase().includes("image format")&&!t.toLowerCase().includes("content length")&&!t.toLowerCase().includes("og image")&&!t.toLowerCase().includes("heading hierarchy")&&!t.toLowerCase().includes("code minification")&&!t.toLowerCase().includes("schema markup")&&!t.toLowerCase().includes("image file size"),Nt=(t,e="h-4 w-4")=>{switch(t){case"high":return s.jsx(He,{className:`${e} text-redText`,style:{color:"var(--redText)",stroke:"var(--redText)"}});case"medium":return s.jsx(G,{className:`${e} text-yellowText`,style:{color:"var(--yellowText)",stroke:"var(--yellowText)"}});case"low":return s.jsx(B,{className:`${e} text-blueText`,style:{color:"var(--blueText)",stroke:"var(--blueText)"}});default:return null}},Tt=t=>{switch(t){case"high":return"High Priority";case"medium":return"Medium Priority";case"low":return"Low Priority";default:return""}},Ct=t=>{const e={"Meta SEO":["Keyphrase in Title","Keyphrase in Meta Description","Keyphrase in URL","Open Graph Title and Description"],"Content Optimisation":["Content Length on page","Keyphrase Density","Keyphrase in Introduction","Keyphrase in H1 Heading","Keyphrase in H2 Headings","Heading Hierarchy"],Links:["Internal Links","Outbound Links"],"Images and Assets":["Image Alt Attributes","Next-Gen Image Formats","OpenGraph Image","Image File Size"],"Technical SEO":["Code Minification","Schema Markup"]},r={};return Object.keys(e).forEach(o=>{r[o]=[]}),t.forEach(o=>{for(const[n,c]of Object.entries(e))if(c.includes(o.title)){r[n].push(o);break}}),r},St=t=>{if(!t||t.length===0)return"neutral";const e=t.filter(r=>r.passed).length;return e===t.length?"complete":e===0?"todo":"inprogress"},Et=t=>{switch(t){case"complete":return s.jsx(g,{className:"h-6 w-6 text-greenText",style:{color:"var(--greenText)",stroke:"var(--greenText)"}});case"inprogress":return s.jsx(G,{className:"h-6 w-6 text-yellowText",style:{color:"var(--yellowText)",stroke:"var(--yellowText)"}});case"todo":return s.jsx(y,{className:"h-6 w-6 text-redText",style:{color:"var(--redText)",stroke:"var(--redText)"}});default:return s.jsx(B,{className:"h-6 w-6 text-blueText",style:{color:"var(--blueText)",stroke:"var(--blueText)"}})}},kt=t=>{if(!t||t.length===0)return 0;const e={high:3,medium:2,low:1};let r=0;t.forEach(n=>{r+=e[n.priority]||e.medium});let o=0;return t.forEach(n=>{n.passed&&(o+=e[n.priority]||e.medium)}),Math.round(o/r*100)},It=t=>t>=90?"Excellent":t>=80?"Very Good":t>=70?"Good":t>=60?"Fair":t>=50?"Needs Work":"Poor";function Ot(){const{toast:t}=oe(),[e,r]=l.useState(null),[o,n]=l.useState(null),[c,p]=l.useState("");l.useState("");const[ve,w]=l.useState([]);l.useEffect(()=>{const a=i=>{if(!(i.origin!=="http://localhost:1337"&&i.origin!==`https://${c}.webflow.io`)&&i.data.name==="copyToClipboard"){const d=i.data.data;navigator.clipboard.writeText(d).then(()=>{console.log("Text copied to clipboard")}).catch(m=>{console.error("Failed to copy text to clipboard",m)})}};return window.addEventListener("message",a),()=>window.removeEventListener("message",a)},[c]);const x=Ae({resolver:ze(vt),defaultValues:{keyphrase:""}}),E=Ee({mutationFn:xt,onSuccess:a=>{console.log("Received analysis results:",a),r(a),n(null)},onError:a=>{console.error("Error analyzing SEO:",a),t({variant:"destructive",title:"Error",description:a.message})}}),we=async a=>{if(!a)return;let i="";if(a.includes("Here is a better")){const m=a.match(/Here is a better [^:]+:\s*(.*)/);i=m?m[1].trim():a}else if(a.includes("Utilize")&&a.includes("as an H")){const m=a.match(/Utilize ['"]([^'"]+)['"]/);i=m?m[1].trim():a}else if(a.includes("Add an H")){const m=a.match(/with ['"]([^'"]+)['"]/);i=m?m[1].trim():a}else{const m=a.match(/['"]([^'"]+)['"]/);i=m?m[1].trim():a}i=i.replace(/^"|"$/g,"");const d=await Rt(i);t(d?{title:"Copied to clipboard!",description:"You can now paste this into Webflow",duration:2e3}:{variant:"destructive",title:"Error",description:"Failed to copy recommendation to clipboard"})},L=async()=>{try{const a=await webflow.getSiteInfo();return console.log("Received site info:",a),a!=null&&a.shortName&&p(a.shortName),a}catch(a){return console.error(`Error getting site info: ${a}`),t({variant:"destructive",title:"Error",description:"Error getting site info"}),null}},be=async a=>{const i=await L();if(!i||!i.domains||i.domains.length===0){console.error("No domains found in site info"),t({variant:"destructive",title:"Error",description:"No domains found in site info"});return}let d="";if(i.domains.length===1)d=i.domains[0].url;else{const m=i.domains.find(h=>h.default);if(m)d=m.url;else{console.error("No default domain found in site info"),t({variant:"destructive",title:"Error",description:"No default domain found in site info"});return}}d?E.mutate({keyphrase:a.keyphrase,url:d}):t({variant:"destructive",title:"Error",description:"Unable to determine the URL"})},b=e?Ct(e.checks):null,je=o&&b?b[o]||[]:[],D=e?kt(e.checks):0,Ne=It(D),Te=async a=>{if(!(!a||a.length===0))try{const i=a.filter(Boolean).map(d=>{try{const m=d.startsWith("http")?d:`https://${d}`;return new URL(m).hostname}catch{return console.warn("Invalid URL format:",d),d}}).filter(Boolean);if(i.length>0){console.log("Registering detected domains:",i);const d=await ht(i);d.success?console.log("Domains registered successfully"):console.warn("Failed to register some domains:",d.message)}}catch(i){console.error("Error registering domains:",i)}};return l.useEffect(()=>{(async()=>{try{const i=[];if(window.webflow&&typeof window.webflow.getSiteInfo=="function"){const d=await L();d!=null&&d.domains&&d.domains.length>0&&d.domains.forEach(m=>{m.url&&i.push(m.url)})}i&&i.length>0&&(w(i),await Te(i))}catch(i){console.error("Error getting URLs:",i)}})()},[]),s.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-background p-4 md:p-6",children:s.jsxs("div",{className:"mx-auto w-full max-w-3xl space-y-6",children:[s.jsx(f.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"w-full",children:s.jsxs(O,{className:"w-full",children:[s.jsx(R,{children:s.jsx(T,{className:"text-center",children:"SEO Analysis Tool"})}),s.jsx(F,{children:s.jsx(dt,{...x,children:s.jsxs("form",{onSubmit:x.handleSubmit(be),className:"space-y-5 w-full",children:[s.jsx(mt,{control:x.control,name:"keyphrase",render:({field:a})=>s.jsxs(fe,{className:"w-full",children:[s.jsx(pe,{className:"mb-1",children:"Target keyphrase"}),s.jsx(xe,{children:s.jsx(f.div,{whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full mt-2",children:s.jsx(he,{placeholder:"Enter your target keyphrase",...a,className:"w-full"})})})]})}),s.jsx(f.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full pt-2",children:s.jsxs(C,{type:"submit",disabled:E.isPending,className:"w-full h-11",children:[E.isPending&&s.jsx(Le,{className:"mr-2 h-5 w-5 animate-spin"}),"Analyze SEO"]})})]})})})]})}),s.jsx(Xe,{mode:"wait",children:e&&s.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"w-full",children:s.jsxs(O,{className:"w-full",children:[s.jsxs(R,{children:[s.jsx("div",{className:"flex items-center justify-between",children:o?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(C,{variant:"ghost",size:"icon",onClick:()=>n(null),className:"mr-2",children:s.jsx(De,{className:"h-5 w-5"})}),s.jsx(T,{children:o})]}):s.jsx(T,{className:"text-center",children:"Analysis Results"})}),!o&&s.jsxs("div",{className:"flex flex-col items-center justify-center mt-4",children:[s.jsx(gt,{value:D,size:140,strokeWidth:10,scoreText:"SEO Score"}),s.jsxs("div",{className:"mt-2 text-center",children:[s.jsx("p",{className:"text-lg font-medium",children:Ne}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.passedChecks," passed ",s.jsx(g,{className:"inline-block h-4 w-4 text-greenText",style:{color:"var(--greenText)",stroke:"var(--greenText)"}})," • ",e.failedChecks," to improve ",s.jsx(y,{className:"inline-block h-4 w-4 text-redText",style:{color:"var(--redText)",stroke:"var(--redText)"}})]})]})]}),o&&s.jsxs(f.div,{initial:{scale:.9},animate:{scale:1},className:"text-sm text-muted-foreground text-center",children:[e.passedChecks," passes ",s.jsx(g,{className:"inline-block h-4 w-4 text-greenText",style:{color:"var(--greenText)",stroke:"var(--greenText)"}})," • ",e.failedChecks," improvements needed ",s.jsx(y,{className:"inline-block h-4 w-4 text-redText",style:{color:"var(--redText)",stroke:"var(--redText)"}})]})]}),s.jsx(F,{children:o?s.jsx(ge,{className:"h-[600px] pr-4 w-full",children:s.jsx(f.div,{variants:wt,initial:"hidden",animate:"show",className:"space-y-5 w-full pt-5",children:je.map((a,i)=>s.jsxs(f.div,{variants:bt,className:"border p-4 w-full rounded-lg hover:bg-background2 transition-colors",whileHover:{y:-2,transition:{duration:.2}},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i*.1},children:[s.jsxs("div",{className:"flex items-start justify-between w-full",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs(f.div,{className:"font-medium flex items-center gap-2",children:[s.jsx(f.div,{variants:U,initial:"initial",animate:"animate",children:a.passed?s.jsx(g,{className:"h-5 w-5 text-greenText flex-shrink-0",style:{color:"var(--greenText)",stroke:"var(--greenText)"}}):s.jsx(y,{className:"h-5 w-5 text-redText flex-shrink-0",style:{color:"var(--redText)",stroke:"var(--redText)"}})}),a.title,s.jsx(z,{children:s.jsxs(H,{children:[s.jsx(_,{asChild:!0,children:s.jsx(f.div,{variants:U,initial:"initial",animate:"animate",className:"ml-2",children:Nt(a.priority)})}),s.jsx($,{children:s.jsxs("p",{children:["SEO Impact: ",Tt(a.priority)]})})]})})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("p",{className:"inline",children:a.description}),!a.passed&&s.jsxs("a",{href:yt(a.title),target:"_blank",rel:"noopener noreferrer",className:"ml-1 inline-flex items-center text-primaryText hover:underline",children:["Learn more",s.jsx(Pe,{className:"h-3 w-3 ml-1"})]})]})]}),!a.passed&&a.recommendation&&jt(a.title)&&s.jsx(z,{children:s.jsxs(H,{children:[s.jsx(_,{asChild:!0,children:s.jsx(f.div,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"ml-4",children:s.jsxs(C,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:async()=>{await we(a.recommendation||"")},children:[s.jsx(Me,{className:"h-4 w-4"}),"Copy"]})})}),s.jsx($,{children:s.jsx("p",{children:"Copy recommendation to clipboard"})})]})})]}),!a.passed&&a.recommendation&&s.jsx(f.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 text-sm p-4 bg-background3 rounded-md w-full",children:a.recommendation})]},i))})}):s.jsx("div",{className:"space-y-6",children:b&&Object.entries(b).map(([a,i])=>{const d=St(i),m=i.filter(h=>h.passed).length;return s.jsxs(f.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border rounded-lg p-4 hover:bg-background2 transition-colors cursor-pointer",onClick:()=>n(a),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-medium",children:a}),s.jsxs("div",{className:"flex items-center gap-2",children:[Et(d),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[m,"/",i.length," passed"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-muted-foreground",children:i.map((h,Ce)=>s.jsxs("div",{className:"flex items-center gap-1.5",children:[h.passed?s.jsx(g,{className:"h-4 w-4 text-greenText flex-shrink-0",style:{color:"var(--greenText)",stroke:"var(--greenText)"}}):s.jsx(y,{className:"h-4 w-4 text-redText flex-shrink-0",style:{color:"var(--redText)",stroke:"var(--redText)"}}),s.jsx("span",{children:h.title})]},Ce))})]},a)})})})]})})})]})})}const Rt=async t=>{var e;try{if((e=window.webflow)!=null&&e.clipboard)return await window.webflow.clipboard.writeText(t),!0;const r=document.createElement("textarea");r.value=t,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r);try{return r.select(),document.execCommand("copy"),document.body.removeChild(r),!0}catch(o){return console.error("DOM clipboard operation failed:",o),document.body.removeChild(r),!1}}catch(r){return console.error("Clipboard write failed:",r),!1}};function Ft({children:t}){return s.jsx("div",{className:"webflow-app-wrapper",children:t})}function $t(){return l.useEffect(()=>{const t={width:1140,height:760};webflow.setExtensionSize(t).catch(e=>{console.error("Error setting extension size:",e)})},[]),s.jsxs(V,{client:nt,children:[s.jsx(Ft,{children:s.jsx(_e,{children:s.jsx(Ue,{path:"/",component:Ot})})}),s.jsx(at,{})]})}const At=new K,Lt=document.getElementById("root"),Dt=Se.createRoot(Lt);Dt.render(s.jsx(V,{client:At,children:s.jsx($t,{})}));
